(function(){"use strict";var e={9372:function(e,t,n){var s=n(5130),i=n(6768);const o={id:"app"};function l(e,t,n,s,l,r){const a=(0,i.g2)("Home");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(a)])}var r=n.p+"static/img/登录图片.334438c8.png";const a=e=>((0,i.Qi)("data-v-46ef9236"),e=e(),(0,i.jt)(),e),u={key:0},d={key:0,class:"page"},c=a((()=>(0,i.Lk)("h1",{id:"welcome"},"欢迎登录",-1))),p=a((()=>(0,i.Lk)("img",{src:r,alt:"图片",class:"logo-image"},null,-1))),h={class:"denglukuang"},g=a((()=>(0,i.Lk)("br",null,null,-1))),f=a((()=>(0,i.Lk)("br",null,null,-1))),w=a((()=>(0,i.Lk)("br",null,null,-1))),m=a((()=>(0,i.Lk)("br",null,null,-1))),k={key:1},b=a((()=>(0,i.Lk)("h1",{class:"center"},"问卷未发布或不存在！",-1))),v=[b],A={key:2},I=a((()=>(0,i.Lk)("h1",{class:"center"},"问卷已截止！",-1))),y=[I];function L(e,t,n,o,l,r){const a=(0,i.g2)("register"),b=(0,i.g2)("pre-fill");return(0,i.uX)(),(0,i.CE)(i.FK,null,[1===l.state?((0,i.uX)(),(0,i.CE)("div",u,[l.showPreFill||l.showRegister?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",d,[c,p,(0,i.Lk)("div",h,[(0,i.bo)((0,i.Lk)("input",{class:"inputstring",type:"text",placeholder:"账号","onUpdate:modelValue":t[0]||(t[0]=e=>l.userId=e)},null,512),[[s.Jo,l.userId]]),g,f,(0,i.bo)((0,i.Lk)("input",{class:"inputstring",type:"password",placeholder:"密码","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e)},null,512),[[s.Jo,l.password]]),w,(0,i.Lk)("a",{type:"text",class:"register-link",onClick:t[2]||(t[2]=(...e)=>r.registerOn&&r.registerOn(...e))},"立即注册"),m,(0,i.Lk)("button",{class:"button",type:"button",onClick:t[3]||(t[3]=(...e)=>r.login&&r.login(...e))},"登录")])])),l.showRegister?((0,i.uX)(),(0,i.Wv)(a,{key:1,"go-home":r.goHome},null,8,["go-home"])):(0,i.Q3)("",!0),l.showPreFill?((0,i.uX)(),(0,i.Wv)(b,{key:2,"user-id":l.userId,"go-home":r.goHome,"questionnaire-id":l.questionnaireId},null,8,["user-id","go-home","questionnaire-id"])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),0===l.state?((0,i.uX)(),(0,i.CE)("div",k,v)):(0,i.Q3)("",!0),2===l.state?((0,i.uX)(),(0,i.CE)("div",A,y)):(0,i.Q3)("",!0)],64)}n(4603),n(7566),n(8721);var C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAQUSURBVHic7ZxbkuMgDEXF1CwrrqFXlmRloQvvi/kY6CIMYAESj27ul+PYQE6EeAkAtra2tra2tsZIjC5ASlprGbt/HIfqW5K8hgJ0kIQQd++2xLxrjHnaSzUSaneAATRJla4DehzHgypNjLoB1Fo/hBB/gBBaSsaYj15W+Zs7A621RFibMsZ8umt300Hw/OFXGrk/w+anYt9Riw0gApwyxjwxluI989+zWusHwLsf9f4MdrFU4fM8XxAHh4ZWIwuza6NCCjBjdazgRooMoIX3Cu9bcA+qfGYTCUDbwt6D2+p2u31QpD+zfrUmEINnjHn+BHgAjRaYgvedq2yoaoAJeN06sLOoCmCswfiJ8AAqfWCi2iqSEi2mYoC2syrd55/m80IVVeHQ73HC8/Oa2T00dWN6wLOSHPlQCA0wZn0cBUp1yjnyohC6Cp/nafzPt9uNfCJixa4RajrLTRk5cVjfLPDcxC+2Z4ECyN1wTAbvDgAghABAuI5LH5haHaPSLPCs/Dwl5rdjGpG3RCitbzJ4bubbz1tevXMJ0K49AACt75sNXkz+b0+p2AIpNDO8wEguq3EWYNj6UlTfmeEBlEc+lIxEihKOaXZ4npS7iHTq35QFGPi/pqXCheAV/dYrC5RtRfmnleBZKe9a5h5sXhO50oLwisTqA1eFV1K+5FCudQSSmFUBIcT9PM/uYRgtPQittUxBRcfGlFpNpvWSwXMy/hittNYs85ecPlAxpj2N0BaYM+OYjDHPhHWh0yAWOt8S95UEeByHOs8Tm070fa31R2T583O1Raic4bB2Y47jUMaYtxAPIcQ9HCJOKIl98AqgqknU18IQUWLvSAMsD1HlvkQDxMyN5bQSxJI5gCzAcG6srVhLQZTYB4uqMMX6yOwQS+dAswDDNYKruTGsZofoSV09cGmB1NXYaVaIpdslaqKzZOk7Kc0GMZKvunrnEiBXNfbTnwmiL8zQFWWBgSmjFpxLNAPE2uApFEDbEin3mdoKbR5DIYa/CTteR/vAyHopKoMSjYLYEjyFBsjtC/18IhCbRkFXagmeKmqFw3/GbiokVwBRcQVzAkRb3iIVB0mGOzFXDjKniPmuijL9DhAji15Ve/uqprPCKmUdvaxJa4S8bblfqnUTVQATjv61AsTELqvqjULVE6oWYmiJrxlGECnZahuD96hNsznSfpUdm1zlZNtwPRPE2BkOVOWj3PIfDeUYCTJTJrL4nF6HTnQF2fPwC5ZjT3LWCMC6xy53Vg3LGQ5sRz/FDsTxRQWT8oCfGrGfnZWyxkAqmHNUANGjnwAsKMQ5XF3Oqul9+BjLDE4g1TP+ZtTxd5L4JDfluQRFlCZKw0+w9HwlFqhyF6Og+RoOMKVwXD17XPXW1tbW1tZWb/0FGpk1Y1tekqwAAAAASUVORK5CYII=";const F=e=>((0,i.Qi)("data-v-cf8068e8"),e=e(),(0,i.jt)(),e),E={key:0},q=F((()=>(0,i.Lk)("br",null,null,-1))),Q={class:"center"},X=F((()=>(0,i.Lk)("h2",null,"请输入问卷ID",-1))),O=F((()=>(0,i.Lk)("br",null,null,-1)));function S(e,t,n,o,l,r){const a=(0,i.g2)("el-button"),u=(0,i.g2)("fill-page");return l.showFill?((0,i.uX)(),(0,i.Wv)(u,{key:1,"user-id":n.userId,id:l.id,close:r.filloff},null,8,["user-id","id","close"])):((0,i.uX)(),(0,i.CE)("div",E,[q,(0,i.bF)(a,{type:"text"},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{src:C,alt:"返回",onClick:t[0]||(t[0]=(...e)=>n.goHome&&n.goHome(...e))})])),_:1}),(0,i.Lk)("div",Q,[X,(0,i.bo)((0,i.Lk)("input",{class:"inputstring",type:"text",placeholder:"问卷ID","onUpdate:modelValue":t[1]||(t[1]=e=>l.id=e)},null,512),[[s.Jo,l.id]]),O,(0,i.Lk)("button",{id:"B",onClick:t[2]||(t[2]=(...e)=>r.fillOn&&r.fillOn(...e))},"保存")])]))}var j=n(4232);const R=(0,i.Lk)("br",null,null,-1),U={key:0},H={key:0},_=["onUpdate:modelValue","value"],P={key:1},x=["onUpdate:modelValue","value"],T={key:1},B=["onUpdate:modelValue"];function N(e,t,n,o,l,r){const a=(0,i.g2)("el-button");return(0,i.uX)(),(0,i.CE)(i.FK,null,[R,(0,i.bF)(a,{type:"text"},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{src:C,alt:"返回",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))})])),_:1}),(0,i.Lk)("h1",null,(0,j.v_)(l.theme),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.questions,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.number},[(0,i.Lk)("h2",null,"问题"+(0,j.v_)(e.number)+"."+(0,j.v_)(e.title)+" --"+(0,j.v_)(r.getQuestionType(e.type))+" --"+(0,j.v_)(r.getNecessary(e.necessary)),1),0===e.type||1===e.type?((0,i.uX)(),(0,i.CE)("div",U,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.selectionForAll.at(e.number-1),(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.position},[(0,i.Lk)("h3",null,"选项"+(0,j.v_)(r.getSelectionPosition(e.position))+"."+(0,j.v_)(e.content),1)])))),128)),1===e.type?((0,i.uX)(),(0,i.CE)("div",H,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.selectionForAll.at(e.number-1),(t=>((0,i.uX)(),(0,i.CE)("label",{key:t.position},[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>l.answers[e.number-1]=t,value:t.position},null,8,_),[[s.lH,l.answers[e.number-1]]]),(0,i.eW)(" "+(0,j.v_)(r.getSelectionPosition(t.position)),1)])))),128))])):(0,i.Q3)("",!0),0===e.type?((0,i.uX)(),(0,i.CE)("div",P,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.selectionForAll.at(e.number-1),(t=>((0,i.uX)(),(0,i.CE)("label",{key:t.position},[(0,i.bo)((0,i.Lk)("input",{type:"radio","onUpdate:modelValue":t=>l.answers[e.number-1][0]=t,value:t.position},null,8,x),[[s.XL,l.answers[e.number-1][0]]]),(0,i.eW)(" "+(0,j.v_)(r.getSelectionPosition(t.position)),1)])))),128))])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",T,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t=>l.answers[e.number-1]=t,placeholder:"问题答案"},null,8,B),[[s.Jo,l.answers[e.number-1]]])]))])))),128)),(0,i.bF)(a,{type:"primary",onClick:r.commit},{default:(0,i.k6)((()=>[(0,i.eW)("提交")])),_:1},8,["onClick"])],64)}n(4114);var V=n(4373),D={props:["close","id","userId"],data(){return{theme:"",questions:[],selectionForAll:[],answers:[],questionIds:[],questionNUm:0,commits:[]}},mounted(){this.fetchQuestionnaire()},methods:{async fetchQuestionnaire(){const e=V.A.get(window.Ip+"/getById?id="+this.id);this.theme=(await e).data.data.theme;const t=V.A.get(window.Ip+"/ListQuestionInIt?id="+this.id);this.questions=(await t).data.data,this.questionNUm=(await t).data.total;const n=this.questions;n.forEach((e=>{V.A.get(window.Ip+"/ListSelectionInIt?questionId="+e.questionId).then((t=>{this.selectionForAll[e.number-1]=t.data.data})),this.questionIds[e.number-1]=e.questionId,this.answers[e.number-1]=[]}))},fillOver(){const e=this.answers;let t=!0;return e.forEach(((e,n)=>{1===this.questions[n].necessary&&0===e.length&&!0===t&&(t=!1,alert("尚未填写完毕")),2===this.questions[n].type&&this.answers[n].length>0&&(console.log(e[0]),(e.length>1&&"10"!==e||"1"!==e[0]&&"2"!==e[0]&&"3"!==e[0]&&"4"!==e[0]&&"5"!==e[0]&&"6"!==e[0]&&"7"!==e[0]&&"8"!==e[0]&&"9"!==e[0])&&(t=!1,alert("打分题应输入1~10")))})),t},async commit(){const e=await V.A.get(window.Ip+"/checkState?id="+this.id);if(console.log(e),400===e.data.code)return alert("问卷已截止或已不存在！"),void this.close();if(!this.fillOver())return;let t,n;for(t=0;t<this.questionNUm;t++)1===this.questions[t].type||0===this.questions[t].type?(console.log(t),n=this.answers[t].join("")):n=this.answers[t],console.log(n),this.answers[t][0]&&this.commits.push({questionId:this.questionIds[t],answer:n});const s=await V.A.post(window.Ip+"/commit?id="+this.id+"&userId="+this.userId,this.commits);console.log(s),this.close()},getQuestionType(e){const t={0:"单选题",1:"多选题",2:"打分题(1-10)",3:"填空题"};return t[e]},getSelectionPosition(e){const t={1:"A",2:"B",3:"C",4:"D",5:"E",6:"F",7:"G",8:"H"};return t[e]},getNecessary(e){const t={0:"选填",1:"必填"};return t[e]}}},W=n(1241);const K=(0,W.A)(D,[["render",N]]);var Y=K,M={props:["userId","goHome","questionnaireId"],data(){return{id:"",showFill:!1}},mounted(){this.getQuestionnaire()},components:{fillPage:Y},methods:{getQuestionnaire(){this.id=this.questionnaireId,this.id&&(this.showFill=!0)},async fillOn(){let e=Number(this.id);if(console.log(this.id),null===this.id)return void alert("请输入问卷id!");if(e.toString()!==this.id)return void alert("问卷id格式错误！");const t=(await V.A.get(window.Ip+"/checkState?id="+this.id)).data.data;if(-1!==t)return 2===t?(alert("问卷已截止！"),!1):(this.showFill=!0,!0);alert("问卷不存在或尚未发布！")},filloff(){this.showFill=!1}}};const G=(0,W.A)(M,[["render",S],["__scopeId","data-v-cf8068e8"]]);var Z=G;const J=e=>((0,i.Qi)("data-v-2d85704b"),e=e(),(0,i.jt)(),e),z={id:"app"},$=J((()=>(0,i.Lk)("header",{id:"reg_header"},[(0,i.Lk)("div",{class:"reg_h_center"},[(0,i.Lk)("div",{class:"reg_h_left"},[(0,i.Lk)("h3",null,"欢迎注册")])])],-1))),ee={class:"reg_back"},te=J((()=>(0,i.Lk)("div",{class:"reg_left"},[(0,i.Lk)("p",null,"新用户注册"),(0,i.Lk)("p",null,"USER REGISTER")],-1))),ne={class:"reg_center"},se={class:"reg_form"},ie=J((()=>(0,i.Lk)("td",{class:"td_left"},[(0,i.Lk)("label",{for:"username"},"昵称")],-1))),oe={class:"td_right"},le=J((()=>(0,i.Lk)("td",{class:"td_left"},[(0,i.Lk)("label",{for:"password"},"密码")],-1))),re={class:"td_right"},ae=J((()=>(0,i.Lk)("tr",null,[(0,i.Lk)("td",{colspan:"2"},[(0,i.Lk)("input",{type:"submit",value:"注册",id:"btn_sub"})])],-1))),ue=J((()=>(0,i.Lk)("div",{class:"node"},"(密码格式需包含大写字母，小写字母，数字)",-1))),de={class:"reg_right"};function ce(e,t,n,o,l,r){return(0,i.uX)(),(0,i.CE)("div",z,[$,(0,i.Lk)("div",ee,[te,(0,i.Lk)("div",ne,[(0,i.Lk)("div",se,[(0,i.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>r.register&&r.register(...e)),["prevent"]))},[(0,i.Lk)("table",null,[(0,i.Lk)("tr",null,[ie,(0,i.Lk)("td",oe,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),placeholder:"请输入昵称",id:"username"},null,512),[[s.Jo,l.username]])])]),(0,i.Lk)("tr",null,[le,(0,i.Lk)("td",re,[(0,i.bo)((0,i.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"请输入密码",id:"password"},null,512),[[s.Jo,l.password]])])]),ae]),ue],32)])]),(0,i.Lk)("div",de,[(0,i.Lk)("p",null,[(0,i.eW)("已有账号?"),(0,i.Lk)("a",{onClick:t[3]||(t[3]=(...e)=>n.goHome&&n.goHome(...e))},"立即登录")])])])])}var pe={props:["goHome"],data(){return{username:"",password:"",userId:""}},methods:{async register(){const e=await V.A.post(window.Ip+"/Register?username="+this.username+"&password="+this.password);console.log(e.data),200===e.data.code?(this.userId=e.data.data,alert("注册成功,账号ID为"+this.userId+"  账号密码为"+this.password),this.goHome()):0===e.data.data?alert("密码格式错误！"):-1===e.data.data?alert("请将昵称和密码全部输入！"):alert("昵称已存在！")}}};const he=(0,W.A)(pe,[["render",ce],["__scopeId","data-v-2d85704b"]]);var ge=he,fe={data(){return{password:"",showPreFill:!1,userId:"",type:null,questionnaireId:null,state:0,showRegister:!1}},components:{register:ge,preFill:Z},mounted(){this.getQuestionnaireId()},methods:{async getQuestionnaireId(){const e=new URLSearchParams(window.location.search);if(this.questionnaireId=e.get("questionnaireId"),this.questionnaireId){const e=await V.A.get(window.Ip+"/getById?id="+this.questionnaireId);200===e.data.code&&(this.state=e.data.data.state)}else this.state=1},goHome(){this.showPreFill=!1,this.showRegister=!1},registerOn(){this.showRegister=!0,console.log(this.showRegister)},async login(){let e=Number(this.userId);if(console.log(e),""===this.password||""===this.userId)return void alert("请输入账号密码！");if(e.toString()!==this.userId)return void alert("账号格式错误，应为账号id！");const t=await V.A.get(window.Ip+"/LogIn?password="+this.password+"&userId="+this.userId);if(this.type=t.data.data.type,console.log(t),400===t.data.code)alert("账号或密码错误！");else if(null!==this.questionnaireId){const e=await V.A.get(window.Ip+"/checkState?id="+this.questionnaireId);200===e.data.code?this.showPreFill=!0:2===e.data.data?this.state=2:this.state=0}else this.showPreFill=!0}}};const we=(0,W.A)(fe,[["render",L],["__scopeId","data-v-46ef9236"]]);var me=we,ke={components:{Home:me}};const be=(0,W.A)(ke,[["render",l]]);var ve=be,Ae=n(7147);n(1077);const Ie=(0,s.Ef)(ve);window.Ip="http://192.168.238.139:8090",Ie.mount("#app"),Ie.use(Ae.A),Ie.config.globalProperties.$http=V.A}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,i,o){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],o=e[d][2];for(var r=!0,a=0;a<s.length;a++)(!1&o||l>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[a])}))?s.splice(a--,1):(r=!1,o<l&&(l=o));if(r){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,o,l=s[0],r=s[1],a=s[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(a)var d=a(n)}for(t&&t(s);u<l.length;u++)o=l[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},s=self["webpackChunkfill_web"]=self["webpackChunkfill_web"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(9372)}));s=n.O(s)})();
//# sourceMappingURL=app.b122ac28.js.map